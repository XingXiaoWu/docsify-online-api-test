{"version":3,"file":"docsify-online-api-test.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import styles from './styles.css';\n\nfunction docsifyOnlineApiTest(hook, vm) {\n\n    let docsifyOnlineApiTestUrl = \"\";\n\n    hook.doneEach(function(){\n        const targetElms = Array.apply(null, document.querySelectorAll('pre[data-lang]'));\n        const i18n = {\n            // 按钮文字\n            buttonText: 'Go to online api test website',\n            // 按钮样式\n            buttonStyle: '',\n            // 文字样式\n            spanStyle:'',\n            // 跳转地址\n            url: 'https://hoppscotch.io/cn',\n        };\n\n        // Update i18n strings based on options and location.href\n        if (vm.config.onlineApiTest) {\n            Object.keys(i18n).forEach(key => {\n                const textValue = vm.config.onlineApiTest[key];\n\n               \n                if (typeof textValue === 'string') {\n                    i18n[key] = textValue;\n                }else if (typeof textValue === 'object') {\n                    Object.keys(textValue).some(match => {\n                        const isMatch = location.href.indexOf(match) > -1;\n\n                        i18n[key] = isMatch ? textValue[match] : i18n[key];\n\n                        return isMatch;\n                    });\n                }\n            })\n        }\n        docsifyOnlineApiTestUrl = i18n.url;\n\n        const template = [\n            `<button class=\"docsify-online-api-test-button\" style=\"${i18n.buttonStyle}\">`,\n            `<span class=\"label\" style=\"${i18n.spanStyle}\">${i18n.buttonText}</span>`,\n            '</button>'\n        ].join('');\n\n        targetElms.forEach(elm => {\n            elm.insertAdjacentHTML('beforeend', template);\n        });\n    })\n\n    hook.mounted(function() {\n        const listenerHost = document.querySelector('.content');\n        listenerHost.addEventListener('click', event => {\n            const isCopyCodeButton = event.target.classList.contains('docsify-online-api-test-button');\n            // 判断按钮是否存在\n            if (isCopyCodeButton) {\n                // 点击\n                window.open(docsifyOnlineApiTestUrl) \n            }\n        })\n    })\n}\n\n\nwindow.DocsifyOnlineApiTestPlugin = {\n    init: function() {\n        return function(hook, vm) {\n            hook.ready(function() {\n                console.warn('[Deprecation] Manually initializing docsify-online-api-test using window.DocsifyOnlineApiTestPlugin.init() is no longer necessary.');\n            });\n        };\n    }\n};\n\nwindow.$docsify = window.$docsify || {};\nwindow.$docsify.plugins = [docsifyOnlineApiTest].concat(window.$docsify.plugins || []);"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","docsifyOnlineApiTest","hook","vm","docsifyOnlineApiTestUrl","doneEach","targetElms","Array","apply","querySelectorAll","i18n","buttonText","buttonStyle","spanStyle","url","config","onlineApiTest","Object","keys","forEach","key","textValue","_typeof","some","match","isMatch","location","href","indexOf","template","join","elm","insertAdjacentHTML","mounted","listenerHost","querySelector","addEventListener","event","isCopyCodeButton","target","classList","contains","window","open","DocsifyOnlineApiTestPlugin","init","ready","console","warn","$docsify","plugins","concat"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAAA,SAASA,YAAYC,KAAKC;QACxB,IAAKA,aAAa,GAAIA,MAAM;QAC5B,IAAIC,WAAWD,IAAIC;QAEnB,KAAKF,cAAcG,aAAa,aAAa;YAAE;;QAE/C,IAAIC,OAAOD,SAASC,QAAQD,SAASE,qBAAqB,QAAQ;QAClE,IAAIC,QAAQH,SAASI,cAAc;QACnCD,MAAME,OAAO;QAEb,IAAIN,aAAa,OAAO;YACtB,IAAIE,KAAKK,YAAY;gBACnBL,KAAKM,aAAaJ,OAAOF,KAAKK;mBACzB;gBACLL,KAAKO,YAAYL;;eAEd;YACLF,KAAKO,YAAYL;;QAGnB,IAAIA,MAAMM,YAAY;YACpBN,MAAMM,WAAWC,UAAUb;eACtB;YACLM,MAAMK,YAAYR,SAASW,eAAed;;;;;ICrB9C,SAASe,qBAAqBC,MAAMC;YAE5BC,0BAA0B;QAE9BF,KAAKG,SAAS;gBACJC,aAAaC,MAAMC,MAAM,MAAMnB,SAASoB,iBAAiB;gBACzDC,OAAO;gBAETC,YAAY;gBAEZC,aAAa;gBAEbC,WAAU;gBAEVC,KAAK;;gBAILX,GAAGY,OAAOC,eAAe;gBACzBC,OAAOC,KAAKR,MAAMS,QAAQ,SAAAC;wBAChBC,YAAYlB,GAAGY,OAAOC,cAAcI;+BAG/BC,cAAc,UAAU;wBAC/BX,KAAKU,OAAOC;2BACV,IAAIC,QAAOD,eAAc,UAAU;wBACrCJ,OAAOC,KAAKG,WAAWE,KAAK,SAAAC;gCAClBC,UAAUC,SAASC,KAAKC,QAAQJ,UAAU;4BAEhDd,KAAKU,OAAOK,UAAUJ,UAAUG,SAASd,KAAKU;mCAEvCK;;;;;YAKvBrB,0BAA0BM,KAAKI;gBAEzBe,WAAW,kEAC4CnB,KAAKE,yDAChCF,KAAKG,wBAAcH,KAAKC,wBACtD,cACFmB,KAAK;YAEPxB,WAAWa,QAAQ,SAAAY;gBACfA,IAAIC,mBAAmB,aAAaH;;;QAI5C3B,KAAK+B,QAAQ;gBACHC,eAAe7C,SAAS8C,cAAc;YAC5CD,aAAaE,iBAAiB,SAAS,SAAAC;oBAC7BC,mBAAmBD,MAAME,OAAOC,UAAUC,SAAS;oBAErDH,kBAAkB;oBAElBI,OAAOC,KAAKvC;;;;;IAO5BsC,OAAOE,6BAA6B;QAChCC,MAAM;mBACK,SAAS3C,MAAMC;gBAClBD,KAAK4C,MAAM;oBACPC,QAAQC,KAAK;;;;;IAM7BN,OAAOO,WAAWP,OAAOO,YAAY;IACrCP,OAAOO,SAASC,UAAU,EAACjD,uBAAsBkD,OAAOT,OAAOO,SAASC,WAAW;"}